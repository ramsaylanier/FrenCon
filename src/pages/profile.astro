---
import Layout from "../layouts/Layout.astro";
import ProfileForm from "../components/ProfileForm";

const user = Astro.locals.user;

if (!user) {
  return Astro.redirect(
    `/signin?redirect=${encodeURIComponent(Astro.url.pathname)}`,
  );
}
---

<Layout
  title="Profile - FrenCon 2026"
  description="Update your FrenCon profile and preferences"
>
  <h1>Your Profile</h1>
  <p>Update your display name, dietary restrictions, and travel preferences.</p>
  <ProfileForm user={user} />
</Layout>
